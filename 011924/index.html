<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2024년 01월 19일</title>
    <!-- Include necessary meta tags, styles, and scripts -->
    <link rel="stylesheet" href="index.css">
</head>

<body>
    <!-- 한 글자씩 읽기 -->
    <div class="intro" id="animated-text">
        <h4 id="sooner">
            <!-- Empty span for dynamic text insertion -->
            <span id="sooner-text"></span>
        </h4><br><br>
        <!-- 생일 노래 틀기-->
        [play 생일송.mp3]<br><br>
        <audio controls autoplay id="audio" onplay="showLater()">
            <source src="birthday.mp3" type="audio/mp3">
            Here's link: <birthday class="mp3"></birthday>
        </audio>
        <br><br>
        <h4 id="later" style="display: none;">
            <!-- Empty span for dynamic text insertion -->
            <span id="later-text"></span>
        </h4>
    </div>
    <!-- letter.html로 이동하는 버튼 -->
    <button onclick="openLetter()" id="ok">그래.</button>

    <script>
        // Text for the "sooner" and "later" sections
        var soonerText = "2024년 01월 19일입니다. 유저 '강나리' 님의 생일임을 확인하였습니다. 유저분의 생일을 진심으로 축하드립니다.";
        var laterText = "전송받은 메시지 중 축하와 관련된 메일은 '25 통'입니다. 이 중 '동생' 태그에 해당하는 메시지는 '1 통' 들어 있습니다. 유저의 <동생>이 보낸 메시지를 열람하시길 바랍니다.";

        // Automatically play the audio when the page loads
        window.onload = function () {
            var audio = document.getElementById('audio');
            audio.play();
            // Start displaying text for "sooner"
            displayText('sooner', soonerText, 'sooner-text');
        };

        function showLater() {
            // Display "later" text when audio starts playing
            var laterTextElement = document.getElementById('later');
            laterTextElement.style.display = 'block';
            // Start displaying text for "later"
            displayText('later', laterText, 'later-text');
        }

        function displayText(id, text, targetId) {
            var element = document.getElementById(id);
            var target = document.getElementById(targetId);
            var index = 0;

            function animate() {
                // Display one character at a time
                target.textContent += text[index];
                index++;

                // If there are more characters, continue the animation
                if (index < text.length) {
                    setTimeout(animate, 50); // Adjust the delay (milliseconds) between characters
                }
            }

            animate();
        }

        function openLetter() {
            window.location.href = 'letter.html';
        }
    </script>
</body>

</html>
